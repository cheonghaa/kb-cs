## 네트워크 애플리케이션의 원리

네트워크 애플리케이션 개발의 중심은 다른 종단 시스템에서 동작하고 네트워크를 통해 서로 통신하는 ```프로그램```을 작성하는 것

```Ex)```
> __웹 애플리케이션__ : 사용자의 호스트(데스크톱, 태블릿, 스마트폰)에서 실행되는 브라우저 프로그램 <-> 웹서버 호스트에서 실행되는 웹 서버 프로그램



>__P2P 파일 공유 시스템__ : 파일 공유에 참여하는 각 호스트에 있는 프로그램이 각 종단 시스템

새로운 애플리케이션 개발을 위해 여러 종단 시스템에서 실행되는 소프트웨어를 작성해야하지만, 라우터나 링크 계층 스위치와 같이 네트워크 코어 장비에서 실행되는 소프트웨어를 작성할 필요는 없다.

네트워크 코어 장비는 애플리케이션 계층에서 기능하지 않는 대신, 네트워크 계층 및 그 하위 계층에서 기능한다.

종단 시스템에만 애플리케이션 소프트웨어가 존재한다는 설계가 인터넷 애플리케이션의 빠른 발전의 원동력

### 네트워크 애플리케이션 구조

##### 애플리케이션 구조
애플리케이션 개발자에 의해 설계되고 애플리케이션이 다양한 종단 시스템에서 어떻게 조직되어야 하는지를 지시
애플리케이션 개발자는 클라이언트-서버 구조 혹은 p2p 구조 중의 하나로 작성

##### 1. 클라이언트-서버 구조
_서버_ : 항상 켜져 있는 호스트. 이 서비스는 ```클라이언트```라는 다른 많은 호스트의 요청을 받는다.
웹 서버가 클라이언트 호스트로부터 객체 요청을 받으면 웹 서버는 클라이언트 호스트로 요청된 객체를 보내어 응답한다.

하나의 서버가 클라이언트로부터의 모든 요청을 처리한다면 서버가 제대로 작동하지 못할 수 있기 때문에 많은 호스트를 갖춘 __데이터 센터__가 사용된다.


##### 2. P2P 구조 (Peer To Peer)
P2P 구조에서 애플리케이션은 _피어(peer)_ 라는 간헐적으로 연결된 호스트 쌍이 서로 직접 통신하도록 한다. 피어는 사용자들이 제어하는 데스크톱과 랩톱이다. 특정 서버를 통하지 않고 통신하므로 peer to peer (p2p)라고 한다.

특징
- __자가 확장성__ : 각 피어들은 파일을 다른 피어들에게 분배함으로써 서비스 능력을 추가한다.
- __비용 효율적__ : 상당한 서버 기반구조와 서버 대역폭을 요구하지 않는다.
- 고도의 분산 구조 특성으로 인해 보안, 성능 그리고 신뢰성의 문제가 생길 수 있다.

### 프로세스
프로세스 : 종단 시스템에서 실행되는 프로그램
프로세스는 컴퓨터 네트워크를 통한 메시지 교환으로 서로 통신한다.

#### 클라이언트와 서버 프로세스
네트워크 어플리케이션은 네트워크에서 서로 메시지를 보내는 두 프로세스로 구성된다.
예를 들어, 웹 애플리케이션은 ```클라이언트 브라우저 프로세스```와 ```웹 서버 프로세스```간의 메시지를 교환한다.

_두 프로세스 간의 통신 세션에서 통신을 초기화하는 프로세스를 __클라이언트__라 하고, 세션을 시작하기 위해 접속을 기다리는 프로세스를 __서버__라고 한다._

#### 소켓
프로세스는 __소켓__을 통해 네트워크로 메시지를 주고 받는다. 프로세스는 ```집```이고 소켓은 ```출입구```로 비유할 수 있다.
프로세스가 메시지를 다른 호스트의 프로세스로 보내고 싶을 때, 출입구(소켓)으로 메시지를 밀어낸다. 메시지가 다른 호스트에 도착하면 마찬가지로 출입구(소켓)을 거쳐 수신 프로세스에 닿고 처리된다.
![](https://velog.velcdn.com/images/wxxhyeong/post/79f5e70d-e010-4d21-8c8b-b7ebd2ce9bfd/image.png)

그림에서 보이듯이 소켓은 애플리케이션 계층과 트랜스포트 계층 간의 인터페이스다.


#### 애플리케이션 계층 프로토콜
애플리케이션 계층 프로토콜의 정의
- 교환 메시지 타입(예: 요청 메시지와 응답 메시지)
- 여러 메시지 타입의 문법(예: 메시지 내부의 필드와 필드 간의 구별 방법)
- 필드의 의미, 즉 필드에 있는 정보의 의미
- 언제, 어떻게 프로세스가 이 메시지를 전송하고 메시지에 응답하는지 결정하는 규칙
